{% extends 'base.html' %}

{% load static %}

{% block carousel %}
<!-- Full-width images with number and caption text -->
<div class="mySlides fade">
  <!-- <div class="numbertext">1 / 3</div> -->
  <img src="{% static 'carousel/mc.jpg' %}" style="width:100%">
  <!-- <div class="text">Caption Text</div> -->
</div>

<div class="mySlides fade">
  <!-- <div class="numbertext">2 / 3</div> -->
  <img src="{% static 'carousel/bmw.jpg' %}" style="width:100%">
  <!-- <div class="text">Caption Two</div> -->
</div>

<div class="mySlides fade">
  <!-- <div class="numbertext">3 / 3</div> -->
  <img src="{% static 'carousel/fix.jpg' %}" style="width:100%">
  <!-- <div class="text">Caption Three</div> -->
</div>
<br>

<script>
var slideIndex = 0;
showSlides();

function showSlides() {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  for (i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";
  }
  slideIndex++;
  if (slideIndex > slides.length) {slideIndex = 1}
  slides[slideIndex-1].style.display = "block";
  setTimeout(showSlides, 2000); // Change image every 2 seconds
} 
</script>
{% endblock carousel %}

{% block content %}
<br>
<div class="container">
  <a href="{% url 'mechanics:mechanic' %}">Back to mechanic's page</a>
  <h2 style="text-align: center;">Search results</h2>
  <hr>
  <br>
  <div class="scrolling-wrapper">
    {% for mechanic in object_list %}
      <div class="mech_card">
        {% if mechanic.photo %}
            <img src="{{ mechanic.photo.url }}" alt="{{ mechanic.name }}" style="width:50%">
          {% endif %}
        <p>{{ mechanic.first_name }} {{ mechanic.last_name }}</p>
        <hr>
        <p>{{ mechanic.phone_number }}</p>
        {% include "mechanics/mechanic_detail.html" %}
      </div>
    {% endfor %}
  </div>
</div>
<br>
</div>
{% endblock %}